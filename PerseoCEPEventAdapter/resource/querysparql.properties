#query sparql for login 
#key: OPERATOR_ID
login=prefix var: <http://a4blue/ontologies/var.owl#>\
prefix var-tekniker: <http://a4blue/ontologies/var-tekniker.owl#>\
SELECT ?object ?person ?personname ?workorder ?processsegment \
WHERE {\
	?person var:personId "OPERATOR_ID" .\
	?person var:personName ?personname .\
 	?person var:isLoggedIn ?object . \
 	OPTIONAL {?object var:isExecuting ?workorder} \
 	OPTIONAL {?object var-tekniker:currentProcessSegment ?processsegment } \
}\

#query sparql to create an FeedBack(Annotation) for a JobOrder
#keys: FEED_ID, ANNOTATION_TEXT, OPERATOR_INSTANCE_NAME
joborderfeedback=prefix var: <http://a4blue/ontologies/var.owl#>\
prefix owl:  <http://www.w3.org/2002/07/owl#>\
prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\
INSERT DATA { var:FEED_ID rdf:type var:Annotation };\
INSERT DATA { var:FEED_ID rdf:type owl:NamedIndividual };\
INSERT DATA { var:FEED_ID var:description "ANNOTATION_TEXT" };\
INSERT DATA { var:FEED_ID var:status "unread" };\
INSERT DATA { var:FEED_ID var:annotationId "FEED_ID" }; \
INSERT DATA { var:OPERATOR_INSTANCE_NAME var:generatesAnnotation var:FEED_ID };\
INSERT DATA { var:generatesAnnotation rdf:type owl:ObjectProperty }; \

#query sparql to create an FeedBack(Annotation) for an Operation
#keys: FEED_ID, ANNOTATION_TEXT, PROCESS_SEGMENT_ID
operatorJobOrder = prefix var: <http://a4blue/ontologies/var.owl#> \
prefix owl:  <http://www.w3.org/2002/07/owl#>\
prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\
INSERT DATA { var:FEED_ID rdf:type var:Annotation };\
INSERT DATA { var:FEED_ID rdf:type owl:NamedIndividual };\
INSERT DATA { var:FEED_ID var:description "ANNOTATION_TEXT" };\
INSERT DATA { var:FEED_ID var:status "unread" };\
INSERT DATA { var:FEED_ID var:annotationId "FEED_ID" };\
INSERT DATA { var:FEED_ID var:relatedToProcessSegment var:PROCESS_SEGMENT_ID };\
INSERT DATA { var:relatedToProcessSegment rdf:type owl:ObjectProperty };\

#query sparql to read unread feedback for workorder
#key: OPERATOR_INSTANCE_NAME
unreadworkorderfeedback = prefix var: <http://a4blue/ontologies/var.owl#> \
SELECT ?object ?status ?description{ \
 	var:OPERATOR_INSTANCE_NAME var:generatesAnnotation ?object . \
 	?object var:status ?status . \
	FILTER (str(?status) ="unread") \
 	?object var:description ?description . \
}

#query sparql to delete a feedback
#key: OPERATOR_INSTANCE_NAME, ANNOTATION_INSTANCE_NAME
deletefeedback= prefix var: <http://a4blue/ontologies/var.owl#> \
DELETE DATA { var:ANNOTATION_INSTANCE_NAME rdf:type var:Annotation }; \
DELETE DATA { var:ANNOTATION_INSTANCE_NAME rdf:type owl:NamedIndividual }; \
DELETE DATA { var:OPERATOR_INSTANCE_NAME var:generatesAnnotation var:ANNOTATION_INSTANCE_NAME }; \
DELETE DATA { var:generatesAnnotation rdf:type owl:ObjectProperty }; \

#Query SparQL to retrieve an Annotation with the jobOrderId
#key: #JOB_ORDER_ID
getAnnotationByJobOrderId= prefix var: <http://a4blue/ontologies/var.owl#> \
prefix var-tekniker: <http://a4blue/ontologies/var-tekniker.owl#> \
SELECT ?joborder ?annotation ?annotationid ?annotationdes \
WHERE { \
	?joborder var:jobOrderId "#JOB_ORDER_ID" . \
	OPTIONAL {?joborder var:hasAnnotationRelated ?annotation} \
	OPTIONAL {?annotation var:annotationId ?annotationid} \
	OPTIONAL {?annotation var:description ?annotationdes} \
}


